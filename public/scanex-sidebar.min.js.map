{"version":3,"file":"scanex-sidebar.min.js","sources":["../node_modules/scanex-event-target/index.js","../src/Sidebar.js","../index.js"],"sourcesContent":["class EventTarget {\r\n    constructor() {\r\n        this.listeners = {};\r\n    }\r\n    addEventListener(type, callback) {\r\n        if(!(type in this.listeners)) {\r\n            this.listeners[type] = [];\r\n        }\r\n        this.listeners[type].push(callback);\r\n    }\r\n    on(type, callback) {\r\n        this.addEventListener(type, callback);\r\n        return this;\r\n    }\r\n    removeEventListener (type, callback) {\r\n        if(!(type in this.listeners)) {\r\n            return;\r\n        }\r\n        let stack = this.listeners[type];\r\n        for(let i = 0, l = stack.length; i < l; i++) {\r\n            if(stack[i] === callback){\r\n                stack.splice(i, 1);\r\n                return this.removeEventListener(type, callback);\r\n            }\r\n        }\r\n    }\r\n    off(type, callback) {\r\n        this.removeEventListener(type, callback);\r\n        return this;\r\n    }\r\n    dispatchEvent(event) {\r\n        if(!(event.type in this.listeners)) {\r\n            return;\r\n        }\r\n        let stack = this.listeners[event.type];\r\n\t    Object.defineProperty(event, 'target', {\r\n            enumerable: false,\r\n            configurable: false,\r\n            writable: false,\r\n            value: this\r\n        });\r\n        for(let i = 0, l = stack.length; i < l; i++) {\r\n            stack[i].call(this, event);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\nexport default EventTarget;","import EventTarget from 'scanex-event-target';\r\nimport './Sidebar.css';\r\n\r\nclass Sidebar extends EventTarget {\r\n    constructor (container) {\r\n        super();\r\n        this._container = container;\r\n        this._container.classList.add ('noselect');    \r\n        this._container.innerHTML = `<div class=\"scanex-sidebar\">\r\n            <div class=\"tabs\"></div>\r\n            <div class=\"panes\"></div>\r\n        </div>`;\r\n\r\n        this._tabContainer = this._container.querySelector('.tabs');\r\n        this._paneContainer = this._container.querySelector('.panes');\r\n\r\n        this._active = null;\r\n        this._visible = false;\r\n        this._tabs = [];\r\n    }\r\n    get visible () {\r\n        return this._visible;\r\n    }\r\n    get active () {\r\n        return this._active;\r\n    }    \r\n    addTab({id, icon, active, normal}) {        \r\n        let tab = document.createElement('div');\r\n        let ic = document.createElement('i');\r\n        icon.split(/\\s+/g).forEach(c => {\r\n            ic.classList.add (c); \r\n        });       \r\n        ic.classList.add (id === this.active ? active : normal);\r\n        tab.appendChild (ic);\r\n        tab.setAttribute ('data-tab-id', id);\r\n        tab.addEventListener ('click', this._toggle.bind(this, id));\r\n        this._tabContainer.appendChild (tab);\r\n        this._tabs.push({id, active, normal});\r\n        let pane = document.createElement('div');\r\n        pane.setAttribute ('data-pane-id', id);\r\n        pane.classList.add (this.visible && this.active === id ? 'shown' : 'hidden');\r\n        this._paneContainer.appendChild (pane);\r\n        return pane;\r\n    }\r\n    removeTab (id) {\r\n        const tab = this._tabContainer.querySelector(`[data-tab-id=${id}]`);\r\n        tab.removeEventListener('click', this._toggle.bind(this, id));\r\n        this._tabContainer.removeChild(tab);\r\n\r\n        const pane = this._paneContainer.querySelector(`[data-pane-id=${id}]`);\r\n        this._paneContainer.removeChild(pane);\r\n\r\n        for (let i = 0; i < this._tabs.length; ++i) {\r\n            if (this._tabs[i].id === id) {\r\n                this._tabs.splice(i, 1);\r\n                break;\r\n            }         \r\n        }\r\n    }\r\n    _toggle (current) {\r\n        const tabs = this._tabContainer.children;\r\n        const panes = this._paneContainer.children;\r\n        if (this.active === current) {\r\n            const show = !this.visible;            \r\n            for (let i = 0; i < tabs.length; ++i) {\r\n                const {id, active, normal} = this._tabs[i];\r\n                let tab = tabs[i].querySelector('i');\r\n                let pane = panes[i];\r\n                if (show) {\r\n                    if (id === current) {\r\n                        tab.classList.remove (normal);\r\n                        tab.classList.add (active);\r\n                    }\r\n                    else {\r\n                        tab.classList.remove (active);\r\n                        tab.classList.add (normal);\r\n                    }                    \r\n                    pane.classList.remove('hidden');\r\n                    pane.classList.add('shown');\r\n                }\r\n                else {\r\n                    tab.classList.remove (active);\r\n                    tab.classList.add (normal);\r\n                    pane.classList.remove('shown');\r\n                    pane.classList.add('hidden');\r\n                }\r\n            }\r\n            if (!show) {\r\n                this._active = null;\r\n            }\r\n            this._visible = show;                    \r\n        }\r\n        else {                       \r\n            for (let i = 0; i < tabs.length; ++i) {\r\n                const {id, active, normal} = this._tabs[i];\r\n                let tab = tabs[i].querySelector('i');\r\n                let pane = panes[i];\r\n                if (id === current) {\r\n                    tab.classList.remove (normal);\r\n                    tab.classList.add (active);\r\n                    pane.classList.remove('hidden');\r\n                    pane.classList.add('shown');\r\n                }\r\n                else {\r\n                    tab.classList.remove (active);\r\n                    tab.classList.add (normal);\r\n                    pane.classList.remove('shown');\r\n                    pane.classList.add('hidden');\r\n                }                \r\n            }\r\n            this._active = current;\r\n            this._visible = true;\r\n        } \r\n        \r\n        let event = document.createEvent('Event');\r\n        event.detail = {active: current, visible: this.visible};\r\n        event.initEvent('change', false, false);\r\n        this.dispatchEvent(event);\r\n    }\r\n}\r\n\r\nexport default Sidebar;","import Sidebar from './src/Sidebar.js';\r\n\r\nlet map = L.map(document.body, {zoomControl: false}).setView([54.04, 26.27], 5);\r\nL.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png').addTo(map);\r\n\r\nlet SidebarControl = L.Control.extend({\r\n    includes: L.Evented ? L.Evented.prototype : L.Mixin.Events,\r\n    \r\n    initialize: function(options) {\r\n        L.setOptions(this, options);        \r\n    },\r\n\r\n    onAdd: function(map) {\r\n\t\tthis._container = L.DomUtil.create('div');\r\n\t\tthis._sidebar = new Sidebar(this._container);\r\n\r\n\t\tconst tabs = [\r\n\t\t\t{id: 'layers', icon: 'fas fa-layer-group', active: 'active', normal: 'normal', content: 'Layers'},\r\n\t\t\t{id: 'weather', icon: 'fas fa-bolt', active: 'active', normal: 'normal', content: 'Weather'},\r\n\t\t\t{id: 'services', icon: 'fas fa-cogs', active: 'active', normal: 'normal', content: 'Services'},\r\n\t\t];\r\n\t\t\t\t\r\n\t\tfor (let i = 0; i < tabs.length; ++i) {\r\n            const {id, icon, active, normal, content} = tabs[i];\r\n            let p = this._sidebar.addTab({id, icon, active, normal});\r\n\t\t\tp.innerHTML = `<span>${content}</span>`;\r\n        }\r\n\r\n        this._sidebar.addEventListener('change', e => {\r\n            const {detail} = e;\r\n            console.log(detail);\r\n        });\r\n\r\n        return this._container;\r\n    },\r\n\r\n    addTo: function(map) {\r\n        L.Control.prototype.addTo.call(this, map);\r\n        if (this.options.addBefore) {\r\n            this.addBefore(this.options.addBefore);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    addBefore: function(id) {\r\n        let parentNode = this._parent && this._parent._container;\r\n        if (!parentNode) {\r\n            parentNode = this._map && this._map._controlCorners[this.getPosition()];\r\n        }\r\n        if (!parentNode) {\r\n            this.options.addBefore = id;\r\n        }\r\n        else {\r\n            for (let i = 0, len = parentNode.childNodes.length; i < len; i++) {\r\n                let it = parentNode.childNodes[i];\r\n                if (id === it._id) {\r\n                    parentNode.insertBefore(this._container, it);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    },    \r\n});\r\n\r\nexport default new SidebarControl({position: 'topleft'}).addTo(map);"],"names":["EventTarget","listeners","type","callback","push","addEventListener","stack","i","l","length","splice","removeEventListener","event","Object","defineProperty","enumerable","configurable","writable","value","call","Sidebar","constructor","container","_container","classList","add","innerHTML","_tabContainer","querySelector","_paneContainer","_active","_visible","_tabs","visible","active","addTab","id","icon","normal","tab","document","createElement","ic","split","forEach","c","appendChild","setAttribute","_toggle","bind","pane","removeTab","removeChild","current","tabs","children","panes","show","remove","createEvent","detail","initEvent","dispatchEvent","map","L","body","zoomControl","setView","tileLayer","addTo","SidebarControl","Control","extend","includes","Evented","prototype","Mixin","Events","initialize","options","setOptions","onAdd","DomUtil","create","_sidebar","content","p","e","console","log","addBefore","parentNode","_parent","_map","_controlCorners","getPosition","len","childNodes","it","_id","insertBefore","position"],"mappings":"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"}