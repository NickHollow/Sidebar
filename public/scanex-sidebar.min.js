var sidebarControl=function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},i=function(){function n(){e(this,n),this.listeners={}}return t(n,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"on",value:function(e,t){return this.addEventListener(e,t),this}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],i=0,r=n.length;i<r;i++)if(n[i]===t)return n.splice(i,1),this.removeEventListener(e,t)}},{key:"off",value:function(e,t){return this.removeEventListener(e,t),this}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){var t=this.listeners[e.type];Object.defineProperty(e,"target",{enumerable:!1,configurable:!1,writable:!1,value:this});for(var n=0,i=t.length;n<i;n++)t[n].call(this,e)}}}]),n}(),r=function(r){function a(t){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).position,r=void 0===i?"left":i;e(this,a);var o=n(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return o._container=t,o._container.innerHTML='<div class="scanex-sidebar">\n            <div class="'+("left"===r?"tabs":"panes")+'"></div>\n            <div class="'+("left"===r?"panes":"tabs")+'"></div>\n        </div>',o._tabContainer=o._container.querySelector(".tabs"),o._paneContainer=o._container.querySelector(".panes"),o._current=null,o._data={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,i),t(a,[{key:"enable",value:function(e){this._data[e]&&(this._data[e].enabled=!0)}},{key:"enabled",value:function(e){var t=(e&&this._data[e]?this._data[e]:{enabled:!1}).enabled;return t}},{key:"disable",value:function(e){this._data[e]&&(e===this.current&&(this.current=null),this._data[e].enabled=!1)}},{key:"addTab",value:function(e){var t=e.id,n=e.icon,i=e.opened,r=e.closed,a=e.tooltip,o=e.enabled,s=void 0===o||o,d=document.createElement("div"),l=document.createElement("i");n.split(/\s+/g).forEach(function(e){return l.classList.add(e)}),l.classList.add(t===this._current?i:r),d.appendChild(l),d.setAttribute("data-tab-id",t),a&&d.setAttribute("title",a),d.addEventListener("click",this._toggle.bind(this,t)),this._tabContainer.appendChild(d);var c=document.createElement("div");return c.setAttribute("data-pane-id",t),c.classList.add(this.visible&&this.current===t?"shown":"hidden"),this._paneContainer.appendChild(c),this._data[t]={icon:n,opened:i,closed:r,enabled:s},c}},{key:"removeTab",value:function(e){var t=this._tabContainer.querySelector("[data-tab-id="+e+"]");t.removeEventListener("click",this._toggle.bind(this,e)),this._tabContainer.removeChild(t);var n=this._paneContainer.querySelector("[data-pane-id="+e+"]");this._paneContainer.removeChild(n);for(var i=0;i<this._data.length;++i)if(this._data[i].id===e){this._data.splice(i,1);break}}},{key:"_toggle",value:function(e){this.enabled(e)&&(this.current=this.current===e?null:e)}},{key:"getPane",value:function(e){return this._paneContainer.querySelector("[data-pane-id="+e+"]")}},{key:"current",get:function(){return this._current},set:function(e){for(var t=this._tabContainer.children,n=this._paneContainer.children,i=!1,r=0;r<t.length;++r){var a=t[r].getAttribute("data-tab-id"),o=this._data[a],s=o.opened,d=o.closed,l=(o.enabled,t[r].querySelector("i")),c=n[r];a===e?(l.classList.remove(d),l.classList.add(s),c.classList.remove("hidden"),c.classList.add("shown"),i=!0):(l.classList.remove(s),l.classList.add(d),c.classList.remove("shown"),c.classList.add("hidden"))}this._current=i?e:null;var u=document.createEvent("Event");u.detail={current:this._current},u.initEvent("change",!1,!1),this.dispatchEvent(u)}}]),a}(),a=L.map(document.body,{zoomControl:!1}).setView([54.04,26.27],5);return L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png").addTo(a),new(L.Control.extend({includes:L.Evented?L.Evented.prototype:L.Mixin.Events,initialize:function(e){L.setOptions(this,e)},onAdd:function(e){this._container=L.DomUtil.create("div"),this._sidebar=new r(this._container,{position:"left"});for(var t=[{id:"layers",icon:"fas fa-layer-group",opened:"opened",closed:"closed",content:"Layers",tooltip:"Layers"},{id:"weather",icon:"fas fa-bolt",opened:"opened",closed:"closed",content:"Weather",tooltip:"Weather"},{id:"services",icon:"fas fa-cogs",opened:"opened",closed:"closed",content:"Services",tooltip:"Services",enabled:!1}],n=0;n<t.length;++n){var i=t[n],a=i.id,o=i.icon,s=i.opened,d=i.closed,l=i.content,c=i.tooltip,u=i.enabled;this._sidebar.addTab({id:a,icon:o,opened:s,closed:d,tooltip:c,enabled:u}).innerHTML="<span>"+l+"</span>"}return this._sidebar.addEventListener("change",function(e){var t=e.detail;console.log(t)}),this._container},addTo:function(e){return L.Control.prototype.addTo.call(this,e),this.options.addBefore&&this.addBefore(this.options.addBefore),this},addBefore:function(e){var t=this._parent&&this._parent._container;if(t||(t=this._map&&this._map._controlCorners[this.getPosition()]),t)for(var n=0,i=t.childNodes.length;n<i;n++){var r=t.childNodes[n];if(e===r._id){t.insertBefore(this._container,r);break}}else this.options.addBefore=e;return this}}))({position:"topleft"}).addTo(a)}();
//# sourceMappingURL=scanex-sidebar.min.js.map
