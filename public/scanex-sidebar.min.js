var sidebarControl=function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(){function n(){e(this,n),this.listeners={}}return t(n,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"on",value:function(e,t){return this.addEventListener(e,t),this}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],i=0,s=n.length;i<s;i++)if(n[i]===t)return n.splice(i,1),this.removeEventListener(e,t)}},{key:"off",value:function(e,t){return this.removeEventListener(e,t),this}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){var t=this.listeners[e.type];Object.defineProperty(e,"target",{enumerable:!1,configurable:!1,writable:!1,value:this});for(var n=0,i=t.length;n<i;n++)t[n].call(this,e)}}}]),n}();class i extends n{constructor(e,{position:t="left"}={}){super(),this._container=e,this._container.classList.add("noselect"),this._container.innerHTML=`<div class="scanex-sidebar">\n            <div class="${"left"===t?"tabs":"panes"}"></div>\n            <div class="${"left"===t?"panes":"tabs"}"></div>\n        </div>`,this._tabContainer=this._container.querySelector(".tabs"),this._paneContainer=this._container.querySelector(".panes"),this._current=null,this._data={}}enable(e){this._data[e]&&(this._data[e].enabled=!0)}enabled(e){const{enabled:t}=e&&this._data[e]?this._data[e]:{enabled:!1};return t}disable(e){this._data[e]&&(e===this.current&&(this.current=null),this._data[e].enabled=!1)}get current(){return this._current}set current(e){const t=this._tabContainer.children,n=this._paneContainer.children;let i=!1;for(let s=0;s<t.length;++s){const a=t[s].getAttribute("data-tab-id"),{opened:r,closed:o,enabled:d}=this._data[a];let l=t[s].querySelector("i"),c=n[s];a===e?(l.classList.remove(o),l.classList.add(r),c.classList.remove("hidden"),c.classList.add("shown"),i=!0):(l.classList.remove(r),l.classList.add(o),c.classList.remove("shown"),c.classList.add("hidden"))}this._current=i?e:null;let s=document.createEvent("Event");s.detail={current:this._current},s.initEvent("change",!1,!1),this.dispatchEvent(s)}addTab({id:e,icon:t,opened:n,closed:i,tooltip:s,enabled:a=!0}){let r=document.createElement("div"),o=document.createElement("i");t.split(/\s+/g).forEach(e=>o.classList.add(e)),o.classList.add(e===this._current?n:i),r.appendChild(o),r.setAttribute("data-tab-id",e),s&&r.setAttribute("title",s),r.addEventListener("click",this._toggle.bind(this,e)),this._tabContainer.appendChild(r);let d=document.createElement("div");return d.setAttribute("data-pane-id",e),d.classList.add(this.visible&&this.current===e?"shown":"hidden"),this._paneContainer.appendChild(d),this._data[e]={icon:t,opened:n,closed:i,enabled:a},d}removeTab(e){const t=this._tabContainer.querySelector(`[data-tab-id=${e}]`);t.removeEventListener("click",this._toggle.bind(this,e)),this._tabContainer.removeChild(t);const n=this._paneContainer.querySelector(`[data-pane-id=${e}]`);this._paneContainer.removeChild(n);for(let t=0;t<this._data.length;++t)if(this._data[t].id===e){this._data.splice(t,1);break}}_toggle(e){this.enabled(e)&&(this.current=this.current===e?null:e)}getPane(e){return this._paneContainer.querySelector(`[data-pane-id=${e}]`)}}let s=L.map(document.body,{zoomControl:!1}).setView([54.04,26.27],5);return L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png").addTo(s),new(L.Control.extend({includes:L.Evented?L.Evented.prototype:L.Mixin.Events,initialize:function(e){L.setOptions(this,e)},onAdd:function(e){this._container=L.DomUtil.create("div"),this._sidebar=new i(this._container,{position:"left"});const t=[{id:"layers",icon:"fas fa-layer-group",opened:"opened",closed:"closed",content:"Layers",tooltip:"Layers"},{id:"weather",icon:"fas fa-bolt",opened:"opened",closed:"closed",content:"Weather",tooltip:"Weather"},{id:"services",icon:"fas fa-cogs",opened:"opened",closed:"closed",content:"Services",tooltip:"Services",enabled:!1}];for(let e=0;e<t.length;++e){const{id:n,icon:i,opened:s,closed:a,content:r,tooltip:o,enabled:d}=t[e];this._sidebar.addTab({id:n,icon:i,opened:s,closed:a,tooltip:o,enabled:d}).innerHTML=`<span>${r}</span>`}return this._sidebar.addEventListener("change",e=>{const{detail:t}=e;console.log(t)}),this._container},addTo:function(e){return L.Control.prototype.addTo.call(this,e),this.options.addBefore&&this.addBefore(this.options.addBefore),this},addBefore:function(e){let t=this._parent&&this._parent._container;if(t||(t=this._map&&this._map._controlCorners[this.getPosition()]),t)for(let n=0,i=t.childNodes.length;n<i;n++){let i=t.childNodes[n];if(e===i._id){t.insertBefore(this._container,i);break}}else this.options.addBefore=e;return this}}))({position:"topleft"}).addTo(s)}();
//# sourceMappingURL=scanex-sidebar.min.js.map
